name: machine_detector

entry_points:
  main:
    parameters:
      preprocess_data: {type: string, default: machine}
      preprocess_fetch: {type: string, default: local}
      preprocess_downstream: {type: string, default: /opt/data/preprocess/}
      preprocess_cached_data_id: {type: string, default: ""}
      train_downstream: {type: string, default: /opt/data/model/}
      train_model_type: {type: string, default: rf}
      train_cv_type: {type: string, default: strat_cv}
      train_n_split: {type: int, default: 5}
      train_n_trials: {type: int, default: 2}
      evaluate_downstream: {type: string, default: /opt/data/evaluate/}

    command: |
      python -m main \
        --preprocess_data {preprocess_data} \
        --preprocess_fetch {preprocess_fetch} \
        --preprocess_downstream {preprocess_downstream} \
        --preprocess_cached_data_id {preprocess_cached_data_id} \
        --train_downstream {train_downstream} \
        --train_model_type {train_model_type} \
        --train_cv_type {train_cv_type} \
        --train_n_split {train_n_split} \
        --train_n_trials {train_n_trials} \
        --evaluate_downstream {evaluate_downstream}